{"ast":null,"code":"import config from '../config/config.json';\nconst docs = {\n  getAllDocs: async function getAllDocs(token, user) {\n    const response = await fetch(`${config.base_url}/documents`, {\n      headers: {\n        \"x-access-token\": token\n      }\n    });\n    const result = await response.json();\n    docs.filterDocs(result, user);\n    return result;\n  },\n  getOneDoc: async function getOneDoc(title, token) {\n    const response = await fetch(`${config.base_url}/documents`, {\n      headers: {\n        \"x-access-token\": token\n      }\n    });\n    const result = await response.json();\n    let currentDoc = {};\n    result.forEach(function (arrayitem) {\n      if (arrayitem.title === title) {\n        currentDoc = arrayitem;\n      }\n    });\n    return currentDoc;\n  },\n  saveDoc: async function saveDoc(title, content, token, user) {\n    console.log(user);\n    const request = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      },\n      body: JSON.stringify({\n        title: title,\n        content: content,\n        user: user.email\n      })\n    };\n    fetch(`${config.base_url}/documents`, request).then(response => response.json());\n  },\n  filterDocs: async function filterDocs(docs, user) {\n    // console.log(user);\n    console.log(docs.filter(doc => doc.authUser === user.email)); // console.log(docs[0]);\n  }\n};\nexport default docs;","map":{"version":3,"names":["config","docs","getAllDocs","token","user","response","fetch","base_url","headers","result","json","filterDocs","getOneDoc","title","currentDoc","forEach","arrayitem","saveDoc","content","console","log","request","method","body","JSON","stringify","email","then","filter","doc","authUser"],"sources":["/home/oscar/dbwebb_kurser/jsramverk/react-text-editor/src/models/docs.js"],"sourcesContent":["import config from '../config/config.json';\n\n\nconst docs = {\n    getAllDocs: async function getAllDocs (token, user) {\n        const response = await fetch(`${config.base_url}/documents`, {\n            headers: {\n                \"x-access-token\": token,\n            },\n        });\n        const result = await response.json();\n        docs.filterDocs(result, user);\n        return result;\n    },\n\n    getOneDoc: async function getOneDoc (title, token) {\n        const response = await fetch(`${config.base_url}/documents`, {\n            headers: {\n                \"x-access-token\": token,\n            }\n        });\n        const result = await response.json();\n        let currentDoc = {};\n        result.forEach(function (arrayitem) {\n            if (arrayitem.title === title) {\n                currentDoc =  arrayitem;\n            }\n        });\n        \n        return currentDoc;\n    },\n\n    saveDoc: async function saveDoc(title, content, token, user) {\n        console.log(user);\n        const request = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'x-access-token': token\n            },\n            body: JSON.stringify({\n                title: title, \n                content: content,\n                user: user.email\n            })\n        };\n\n        fetch(`${config.base_url}/documents`, request)\n            .then(response => response.json());\n    },\n\n    filterDocs: async function filterDocs(docs, user) {\n        // console.log(user);\n        console.log(docs.filter(doc => doc.authUser === user.email));\n        // console.log(docs[0]);\n    }\n}\n\nexport default docs;"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,uBAAnB;AAGA,MAAMC,IAAI,GAAG;EACTC,UAAU,EAAE,eAAeA,UAAf,CAA2BC,KAA3B,EAAkCC,IAAlC,EAAwC;IAChD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEN,MAAM,CAACO,QAAS,YAApB,EAAiC;MACzDC,OAAO,EAAE;QACL,kBAAkBL;MADb;IADgD,CAAjC,CAA5B;IAKA,MAAMM,MAAM,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAArB;IACAT,IAAI,CAACU,UAAL,CAAgBF,MAAhB,EAAwBL,IAAxB;IACA,OAAOK,MAAP;EACH,CAVQ;EAYTG,SAAS,EAAE,eAAeA,SAAf,CAA0BC,KAA1B,EAAiCV,KAAjC,EAAwC;IAC/C,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEN,MAAM,CAACO,QAAS,YAApB,EAAiC;MACzDC,OAAO,EAAE;QACL,kBAAkBL;MADb;IADgD,CAAjC,CAA5B;IAKA,MAAMM,MAAM,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAArB;IACA,IAAII,UAAU,GAAG,EAAjB;IACAL,MAAM,CAACM,OAAP,CAAe,UAAUC,SAAV,EAAqB;MAChC,IAAIA,SAAS,CAACH,KAAV,KAAoBA,KAAxB,EAA+B;QAC3BC,UAAU,GAAIE,SAAd;MACH;IACJ,CAJD;IAMA,OAAOF,UAAP;EACH,CA3BQ;EA6BTG,OAAO,EAAE,eAAeA,OAAf,CAAuBJ,KAAvB,EAA8BK,OAA9B,EAAuCf,KAAvC,EAA8CC,IAA9C,EAAoD;IACzDe,OAAO,CAACC,GAAR,CAAYhB,IAAZ;IACA,MAAMiB,OAAO,GAAG;MACZC,MAAM,EAAE,MADI;MAEZd,OAAO,EAAE;QACL,gBAAgB,kBADX;QAEL,kBAAkBL;MAFb,CAFG;MAMZoB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBZ,KAAK,EAAEA,KADU;QAEjBK,OAAO,EAAEA,OAFQ;QAGjBd,IAAI,EAAEA,IAAI,CAACsB;MAHM,CAAf;IANM,CAAhB;IAaApB,KAAK,CAAE,GAAEN,MAAM,CAACO,QAAS,YAApB,EAAiCc,OAAjC,CAAL,CACKM,IADL,CACUtB,QAAQ,IAAIA,QAAQ,CAACK,IAAT,EADtB;EAEH,CA9CQ;EAgDTC,UAAU,EAAE,eAAeA,UAAf,CAA0BV,IAA1B,EAAgCG,IAAhC,EAAsC;IAC9C;IACAe,OAAO,CAACC,GAAR,CAAYnB,IAAI,CAAC2B,MAAL,CAAYC,GAAG,IAAIA,GAAG,CAACC,QAAJ,KAAiB1B,IAAI,CAACsB,KAAzC,CAAZ,EAF8C,CAG9C;EACH;AApDQ,CAAb;AAuDA,eAAezB,IAAf"},"metadata":{},"sourceType":"module"}